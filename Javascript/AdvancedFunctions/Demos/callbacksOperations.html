<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Callbacks - Operations</title>
	<style>
		input {
			padding:4px;
			width:57px;
		}
		input, button {
			padding:2px 5px;
			font-size:20px;
		}
	</style>
	<script>
		function doOperation(x, y, callbackFunction) {
			return callbackFunction(x, y);
		}
		function doAdd(x, y) {
			return x + y;
		}
		function doSubtract(x, y) {
			return x - y;
		}
		function doMultiply(x, y) {
			return x * y;
		}
		function doDivide(x, y) {
			return x / y;
		}

		function updateResult(e) {
			var targetID = e.target.id;
			var num1 = parseFloat(document.getElementById('num1').value);
			var num2 = parseFloat(document.getElementById('num2').value);
			var result = document.getElementById('result');
			switch (targetID) {
				case 'doAdd':
					var doOp = doAdd;
					break;
				case 'doSubtract':
					var doOp = doSubtract;
					break;
				case 'doMultiply':
					var doOp = doMultiply;
					break;
				case 'doDivide':
					var doOp = doDivide;
					break;
			}
			result.value = doOperation(num1, num2, doOp);
		}

		window.onload = function() {
			
			var buttons = document.getElementsByTagName('button');

			for (var i=0; i<buttons.length; i++ ) {
				buttons[i].addEventListener('click', function(e) {
					updateResult(e);
				}, 'false');
			}
		}
		
	</script>
</head>
<body>
	<h1>Callbacks - Operations</h1>
	<input type="text" id="num1">
	<input type="text" id="num2">
	<button id="doAdd" class="op">+</button>
	<button id="doSubtract" class="op">-</button>
	<button id="doMultiply" class="op">*</button>
	<button id="doDivide" class="op">/</button>
	<input type="text" id="result">
</body>
</html>